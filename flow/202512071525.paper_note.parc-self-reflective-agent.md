---
id: 202512071525.paper_note.parc-self-reflective-agent
title: PARC — 自己評価付き階層型コードエージェントの長期タスク実行
type: paper_note
created_at: 2025-12-07T15:25:44+09:00
updated_at: 2025-12-07T16:23:37+09:00
status: draft
tags: [coding-agent, multi-agent, self-reflection, long-horizon, automation, kaggle, simulation]
topic: 自己評価・自己フィードバックを備えた階層型コードエージェントPARCの設計と実証
sources: ["arXiv:2512.03549"]
importance: medium
timebox: "60m"
related: []
owners: []
model: gpt-5o
---

# 単一論文ノート

## TL;DR
- PARCはプランナーとワーカーの階層型マルチエージェントに自己評価・自己フィードバックを組み込み、長期タスクで方針レベルの誤りを検知・是正できるコードエージェント。
- タスクごとに独立コンテキスト＋構造化ワークスペースを用い、計画→実行→自己評価を反復しつつ進行判定や中断を自律管理。
- 材料シミュレーションやKaggle競技など10–20タスク・百ステップ級ワークフローをほぼ無人で完遂し、ベースラインや既報結果に近い精度を達成。

## 背景/貢献
- 背景: 通常のコードエージェントは逐次コンテキスト蓄積で長期タスクにおける戦略的誤り・文脈飽和に弱い。
- 貢献:
  - 階層分離（プランナー/タスクワーカー）と自己評価ループで長期の方針崩壊を防ぐ設計を提示。
  - ワークスペース共有＋タスク要約によりコンテキスト汚染なしで成果物と知見を継承。
  - 実証: 材料MD/MC・電場下MD・Kaggle 2競技で自律実行し、SOTA LLMを変えずに長期性能を押し上げることを示す。

## 方法/設定
- アーキテクチャ: プランナーがタスク分割と順序決定→各ワーカーが独立コンテキストで実行し、自己評価が局所エラーと方針整合性をチェック。
- 自己フィードバック: 実行ログ・成果を別コンテキストで評価し、再実行/パラメータ修正/計画中断を判断。
- 共有資産: ワークスペースでコード・データ・設定を共有し、タスク要約で依存関係・成果の位置を明示。
- 想定スケール: 10–20タスク、計約100ステップ、1–数日走行の計算科学・データサイエンス案件。

## 結果/制約
- Liイオン伝導LGPS MD: ランダム探索→構造最適化→多温度MD→Arrhenius解析を自動化し、活性化エネルギー0.23 eV（報告0.18 eVに近似）。自己評価で温度依存異常を検知し再計算。
- Cr-Ni合金MC: B/Nドープ7系×5本(35 runs, 16–43h/本)を自律監視実行。BでFCC低下・HCP出現、NでFCC維持を再現。セル形状緩和・試行移動の細部実装漏れを未検知。
- 電場下YSZ MD: 電場項F=qEをMDに実装し多条件を実行するも、PBC越え変位計算ミスで解析失敗。人手再解析で論文傾向を定性的再現。NPT失敗をラティススキャンに切替えるなど代替策は自律決定。
- Kaggle Polymer予測: SMILES特徴抽出→RF/LightGBM/XGBoost→HPO。データリークを自己評価で検知し分割修正。mordred利用で平均R2 0.781（公開ノート0.764超）、非使用でも0.669（DeepEvolve 0.603超）。
- Kaggle Polytope Puzzle: ビームサーチ等で探索方針を動的変更しスコアを1,220,590→1,199,430に改善（外部ソルバ不使用のためトップには届かず）。
- 制約: 自己評価で複雑な実装抜けを見逃す例あり。外部ツール発見/活用は依然人手依存。計画粒度次第で検証コスト・漏れが変動。

## 気づき/疑問
- 戦略レベルの自己評価が長期タスク安定性に寄与する一方、物理シミュや幾何処理のような専門的検証にはドメインチェックリストが必要そう。
- タスク分割をより微粒化し検証点を埋め込むことで、未検知バグ（セル形状緩和・近傍判定など）を減らせる可能性。
- 外部ツール/ソルバの自律探索・導入（例: 材料系ポテンシャル選択、パズル用既存ソルバ）を組み込むと成果の幅と上限が伸びそう。
- 計算資源・時間制約下での自己評価閾値や再試行方針の設計がスループットと安定性のトレードオフを決める。
- 公開状況: 論文はClaude Sonnet 4.5での実験を報告するのみでコード/モデル公開なし。性能向上はアーキ設計によると明言。
- 再現方針のラフ: Planner/Worker/Self-assessor分離、タスク独立コンテキスト＋共有ワークスペース、自己評価プロンプトで局所エラー・方針整合性・品質閾値を判定し再試行/中断を分岐。タスク要約で依存と成果物パスを引き継ぐ。LangGraph/AutoGen/Swarm等で骨組み可。
- 小さく試す順: (1) 最小プロトで3役＋再試行ルール (2) 自己評価プロンプト整備 (3) タスク要約フォーマット確立 (4) 小規模データ分析/アルゴリズムベンチで自己評価の効果確認。

## References
- arXiv: https://arxiv.org/abs/2512.03549
